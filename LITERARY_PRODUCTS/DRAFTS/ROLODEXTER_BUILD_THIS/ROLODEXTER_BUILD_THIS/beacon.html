<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beacon Terminal</title>
    <link rel="stylesheet" href="src/styles/beacon.css">
    <link rel="stylesheet" href="src/styles/chat.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="terminal-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <span class="logo-icon">‚ö°</span>
                <span class="logo-text">BEACON</span>
            </div>
            <div class="tagline">Generate ideas. Get paid for good ones.</div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active">
                    <span class="nav-icon">üìä</span>
                    <span>Exchange</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üíé</span>
                    <span>Portfolio</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üìà</span>
                    <span>Analytics</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">‚öñÔ∏è</span>
                    <span>Stake</span>
                </a>
            </nav>
        </aside>

        <!-- Main Container -->
        <div class="main-wrapper">
            <!-- Top Header -->
            <header class="platform-header">
                <div class="header-left">
                    <div class="network-status">
                        <span class="status-dot"></span>
                        Solana DevNet
                    </div>
                    <div class="token-price-header">
                        <span class="token-symbol">$ROLODEXTER</span>
                        <span class="token-value">$1.24</span>
                        <span class="token-change positive">+5.2%</span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="profile-section">
                        <div class="wallet-info">
                            <span class="wallet-balance">24,500 $ROLODEXTER</span>
                            <button class="wallet-address">7x24...f8e9</button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="platform-main">
                <!-- Market Stats Bar -->
                <div class="market-stats-bar">
                    <div class="stat-item">
                        <div class="stat-label">24h Volume</div>
                        <div class="stat-value">$2.1M</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ideas Minted</div>
                        <div class="stat-value">1,234</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Graduated Ideas</div>
                        <div class="stat-value">89</div>
                    </div>
                </div>

                <!-- Main Grid Layout -->
                <div class="platform-grid">
                    <!-- Left Column -->
                    <div class="platform-sidebar left">
                        <!-- Idea Creation Card -->
                        <div class="platform-card idea-creation">
                            <div class="card-header">
                                <h2>New Ideas</h2>
                                <div class="header-actions">
                                    <span class="premium-tag">Premium</span>
                                    <button class="help-button" title="Learn more">?</button>
                                </div>
                            </div>
                            <div class="card-content">
                                <form id="ideaForm" class="idea-form">
                                    <div class="form-field">
                                        <label>URL</label>
                                        <div class="input-wrapper">
                                            <input type="url" id="ideaUrl" placeholder="Paste any URL to mint as an Idea">
                                            <span class="input-icon">üîó</span>
                                        </div>
                                    </div>
                                    <div class="form-field">
                                        <label>Generate Idea</label>
                                        <div class="description-controls">
                                            <textarea id="ideaDescription" placeholder="Describe your idea's potential"></textarea>
                                            <button id="aiGenerateBtn" class="ai-generate-btn">
                                                <span class="ai-icon">ü§ñ</span>
                                                Ask rolodexter
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-field">
                                            <label>Initial Supply</label>
                                            <input type="number" id="ideaSupply" value="1000" min="100" max="10000">
                                        </div>
                                        <div class="form-field">
                                            <label>Royalty %</label>
                                            <input type="number" id="ideaRoyalty" value="5" min="1" max="10">
                                        </div>
                                    </div>
                                    <button type="submit" id="mintIdea" class="mint-button">
                                        <span class="button-icon">‚ö°</span>
                                        Mint Idea NFT
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Trending Ideas -->
                        <div class="platform-card trending">
                            <div class="card-header">
                                <h2>Trending Ideas</h2>
                                <div class="time-selector">
                                    <button class="time-btn active">1H</button>
                                    <button class="time-btn">24H</button>
                                    <button class="time-btn">7D</button>
                                </div>
                            </div>
                            <div class="trending-list" id="trendingIdeas"></div>
                        </div>
                    </div>

                    <!-- Center Column -->
                    <div class="platform-main-content">
                        <!-- Ideas Table -->
                        <div class="platform-card ideas-table-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <h2>Active Ideas</h2>
                                    <span class="ideas-count">1,234 Ideas</span>
                                </div>
                                <div class="header-right">
                                    <div class="search-box">
                                        <input type="search" placeholder="Search ideas...">
                                        <span class="search-icon">üîç</span>
                                    </div>
                                    <div class="table-actions">
                                        <button class="action-btn" data-filter-type="all">
                                            <span class="icon">üìä</span>
                                            Filter
                                            <span class="icon">‚ñæ</span>
                                        </button>
                                        <button class="action-btn" data-sort-type="price">
                                            <span class="icon">‚ÜïÔ∏è</span>
                                            Sort by Price
                                            <span class="icon">‚ñæ</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="ideas-table">
                                    <thead>
                                        <tr>
                                            <th>Idea</th>
                                            <th>Price</th>
                                            <th>24h Change</th>
                                            <th>Market Cap</th>
                                            <th>Volume</th>
                                            <th>About to Graduate</th>
                                            <th>Graduated</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="activeIdeasList"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div class="platform-sidebar right">
                        <!-- ROLODEXTER Token Card -->
                        <div class="platform-card token-card">
                            <div class="card-header">
                                <div class="token-info">
                                    <span class="token-icon">ü™ô</span>
                                    <h2>$ROLODEXTER</h2>
                                </div>
                                <div class="token-price">
                                    <div class="current-price">$1.24</div>
                                    <div class="price-change positive">+5.2%</div>
                                </div>
                            </div>
                            <div class="token-chart-container">
                                <canvas id="tokenChart"></canvas>
                            </div>
                            <div class="token-stats">
                                <div class="stat-row">
                                    <span class="label">Market Cap</span>
                                    <span class="value">$124M</span>
                                </div>
                                <div class="stat-row">
                                    <span class="label">Total Supply</span>
                                    <span class="value">100M</span>
                                </div>
                                <div class="stat-row">
                                    <span class="label">Staked</span>
                                    <span class="value">75M (75%)</span>
                                </div>
                                <div class="stat-row">
                                    <span class="label">APY</span>
                                    <span class="value highlight">23.4%</span>
                                </div>
                            </div>
                            <div class="token-actions">
                                <button class="action-btn primary">Buy</button>
                                <button class="action-btn secondary">Stake</button>
                            </div>
                        </div>

                        <!-- Featured Ideas Card -->
                        <div class="platform-card featured-ideas">
                            <div class="card-header">
                                <h2>Featured Ideas</h2>
                                <span class="hot-tag">üî• Hot</span>
                            </div>
                            <div class="featured-grid" id="featuredIdeas"></div>
                        </div>
                    </div>
                </div>

                <!-- Portfolio Page -->
                <div class="platform-page portfolio-page" style="display: none;">
                    <div class="platform-grid">
                        <!-- Left Column - Portfolio Overview -->
                        <div class="platform-sidebar left">
                            <div class="platform-card portfolio-summary">
                                <div class="card-header">
                                    <h2>Portfolio Value</h2>
                                    <div class="portfolio-total">
                                        <span class="value">$47,892.45</span>
                                        <span class="change positive">+12.4%</span>
                                    </div>
                                </div>
                                <div class="card-content">
                                    <div class="portfolio-metrics">
                                        <div class="metric-row">
                                            <span class="label">Total Ideas</span>
                                            <span class="value">12</span>
                                        </div>
                                        <div class="metric-row">
                                            <span class="label">Graduated Ideas</span>
                                            <span class="value highlight">3</span>
                                        </div>
                                        <div class="metric-row">
                                            <span class="label">$ROLODEXTER Balance</span>
                                            <span class="value">24,500</span>
                                        </div>
                                        <div class="metric-row">
                                            <span class="label">Staked $ROLODEXTER</span>
                                            <span class="value">15,000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="platform-card portfolio-stats">
                                <div class="card-header">
                                    <h2>Performance</h2>
                                </div>
                                <div class="card-content">
                                    <canvas id="portfolioChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Center Column - Holdings -->
                        <div class="platform-main-content">
                            <div class="platform-card holdings-card">
                                <div class="card-header">
                                    <h2>Your Ideas</h2>
                                    <div class="view-controls">
                                        <button class="view-btn active">All</button>
                                        <button class="view-btn">Active</button>
                                        <button class="view-btn">Graduated</button>
                                    </div>
                                </div>
                                <div class="table-container">
                                    <table class="holdings-table">
                                        <thead>
                                            <tr>
                                                <th>Idea</th>
                                                <th>Holdings</th>
                                                <th>Avg Price</th>
                                                <th>Current Price</th>
                                                <th>P/L</th>
                                                <th>Value</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="holdingsList"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column - Recent Activity -->
                        <div class="platform-sidebar right">
                            <div class="platform-card activity-card">
                                <div class="card-header">
                                    <h2>Recent Activity</h2>
                                </div>
                                <div class="activity-list" id="recentActivity"></div>
                            </div>

                            <div class="platform-card rewards-card">
                                <div class="card-header">
                                    <h2>Rewards</h2>
                                    <span class="hot-tag">üéÅ Active</span>
                                </div>
                                <div class="card-content">
                                    <div class="rewards-summary">
                                        <div class="reward-item">
                                            <span class="label">Trading Rewards</span>
                                            <span class="value">450 $ROLODEXTER</span>
                                        </div>
                                        <div class="reward-item">
                                            <span class="label">Staking Rewards</span>
                                            <span class="value">890 $ROLODEXTER</span>
                                        </div>
                                        <div class="reward-item">
                                            <span class="label">Idea Royalties</span>
                                            <span class="value">1,245 $ROLODEXTER</span>
                                        </div>
                                    </div>
                                    <button class="claim-btn">Claim All Rewards</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Tour Sections -->
                <section class="platform-intro feature-section">
                    <h1>BEACON</h1>
                    <p>The first Rolodexter-AI powered decentralized application. A platform built for creators, innovators, and visionaries.</p>
                </section>

                <section class="staking-section feature-section">
                    <h2>Stake & Earn</h2>
                    <p>Stake your Rolodexter tokens to earn platform fees and participate in the curation of groundbreaking ideas.</p>
                </section>

                <section class="market-overview feature-section">
                    <h2>Ideas Market</h2>
                    <p>Watch, trade, and invest early in ideas before they hit a $50,000 market cap.</p>
                </section>

                <section class="trending-ideas feature-section">
                    <h2>Trending Ideas</h2>
                    <!-- Dynamic content will be populated here -->
                </section>

                <section class="portfolio-dashboard feature-section">
                    <h2>Portfolio Dashboard</h2>
                    <div id="portfolio-metrics"></div>
                </section>

                <section class="rolodexter-flywheel feature-section">
                    <h2>Rolodexter Flywheel</h2>
                    <p>A percentage of trading fees is used to buy back $Rolodexter tokens from the market.</p>
                </section>
            </main>
        </div>
    </div>

    <!-- Tour Guide Tooltips -->
    <div id="tourTooltip" class="tour-tooltip"></div>

    <!-- Notifications Container -->
    <div class="notifications-container"></div>

    <!-- Messenger Component -->
    <div class="chat-container">
        <div class="chat-toggle">
            <span class="chat-icon">üí¨</span>
            <span class="unread-badge"></span>
        </div>
        <div class="chat-window">
            <div class="chat-header">
                <div class="chat-title">Messages</div>
                <button class="minimize-chat">_</button>
            </div>
            <div class="chat-threads"></div>
            <div class="chat-messages"></div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" placeholder="Ask rolodexter anything...">
                <button class="send-message">‚ÜóÔ∏è</button>
            </div>
        </div>
    </div>

    <!-- Scripts (moved to end of body) -->
    <script type="module" src="src/simulation/init.js"></script>
</body>
</html>